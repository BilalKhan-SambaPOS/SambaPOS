@model IEnumerable<SambaPOS_MVC3.Models.PricePortion>
@{
    ViewBag.Title = "AddProduct";
}
<div>
    <div style="background-color: burlywood;line-height: 220%;margin-left: 10%;margin-right: 10%">
        <label style="font-size:16pt;padding-left:10px" >Product</label>
    </div>
    <div style="margin-left: 10%;margin-right: 10%;margin-top:10px">
        <table>
            <tr>
                <td style="width:12%">
                    <label >Product Name:</label>
                </td>
                <td>
                    <input type="text" id="txtProductName" />
                </td>
            </tr>
            <tr>
                <td style="width:12%">
                    <label >Group Code:</label>
                </td>
                <td>
                  @Html.DropDownList("GroupId", new SelectList(ViewBag.ListOfRoles, "GroupId", "GroupName"))
                </td>
            </tr>
            <tr>
                <td style="width:12%">
                    <label >Barcode:</label>
                </td>
                <td>
                    <input type="text" id="txtBarcode" />
                </td>
            </tr>
            <tr>
                <td style="width:12%">
                    <label >Tag:</label>
                </td>
                <td>
                  @Html.DropDownList("TagId", new SelectList(ViewBag.ListOfTags, "TagId", "TagName"))
                </td>
            </tr>
            </table>
            <table style="margin-top:10px;">
            <tr style="background-color:burlywood">
                <td >
                    <label >Prtion Prices:</label>
                    </td>
                </tr>
                <tr>
                    <td>
                    <table class="tableAddProduct" style="width:50%">
                        <tr>
                            <td class="tableAddProducttd" style="width:1%">
                                <label >Prtion</label>
                            </td>
                            <td class="tableAddProducttd" style="width:1%">
                                <label >Multiplier</label>
                            </td>
                            <td class="tableAddProducttd">
                                <label >Price</label>
                            </td>
                            <td class="tableAddProducttd">
                                <label style="margin-left:10px;margin-right:25px" >Action</label>
                            </td>
                            <td class="tableAddProducttd">
                                <label style="margin-left:10px;margin-right:25px" >Action</label>
                            </td>
                        </tr>
                        @if(Model != null)
                        {
                            using(Html.BeginForm("Save", "Product"))
                            {
                                foreach (var m in Model)
                                {
                                    <tr>
                                        <td class="tableAddProducttd">
                                            <input type="text" id="txtPortion" value=@m.Portion.ToString() name="txtPortion" />
                                        </td>
                                        <td class="tableAddProducttd">
                                            <input type="text" id="txtMultiplier" value=@m.Multiplier.ToString() name="txtMultiplier" />
                                        </td>
                                        <td class="tableAddProducttd">
                                            <input type="text" id="txtPrice" value=@m.Price.ToString() name="txtPrice" />
                                        </td>
                                        <td class="tableAddProducttd">
                                           <a class="HyperLinkTobutton" style="margin-left:10px" href="/Product/RemoveFromGrid?ppId=@m.PricePortionID">
                                                Delete
                                            </a>
                                        </td>
                                        <td class="tableAddProducttd">
                                           @*<a style="color:blue;margin-right:170px" href='@Url.Action("Save", "Product") '">
                                                Save
                                            </a>*@
                                            <input type="hidden" value=@m.PricePortionID id="txtPortionPriceId" />
                                            <input type="submit" value="Save" style="font-size:11pt;background-color:burlywood;margin-left:10px;padding: 5px 10px;" />
                                        </td>
                                    </tr>
                                }
                            }
                        }
                    </table>
                </td>
                    <td>
                        <table>
                            <tr>
                                <td>
                                   <a style="color:blue;" href='@Url.Action("PopulateGrid", "Product") '>Add Portion</a>
                                </td>
                            </tr>
                            <tr>
                            </tr>
                        </table>
                    </td>
            </tr>
        </table>
    </div>
        <div style="height:70px;margin-left: 10%;margin-right: 10%;margin-top:10px">
        <table class="tableForManage">
            <tr class="tableTr">
                <td style="float:right">
                    <input class="buttonCustom" type="button" value="Save"  />
                </td>
                <td style="float:right">
                    <input class="buttonCustom" type="button" value="Back" onclick="location.href='@Url.Action("ProductList", "Product")    '" />
                </td>
            </tr>
        </table>
    </div>
</div>
